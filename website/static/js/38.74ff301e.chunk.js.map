{"version":3,"sources":["../static/js/38.74ff301e.chunk.js","components/common/APRadio/APRadio.js","components/LoyaltyToken/LoyaltyTokenComponent.js","webpack:///./src/components/LoyaltyToken/LoyaltyToken.css?aa74","components/LoyaltyToken/LoyaltyToken.css","redux/selectors/loyaltyTokenSelectors.js","components/LoyaltyToken/LoyaltyTokenContainer.js"],"names":["webpackJsonp","1034","module","__webpack_exports__","__webpack_require__","_objectWithoutProperties","obj","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_redux_form__","__WEBPACK_IMPORTED_MODULE_3__helpers_cssClassesHelper__","InnerRadioInput","props","input","customClass","meta","inline","label","info","id","passedProps","bemClasses","getBEMClasses","a","createElement","className","assign","type","htmlFor","dirty","error","APRadio","name","component","defaultProps","autoFocus","required","readOnly","propTypes","PropTypes","string","bool","isRequired","1473","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_2__helpers_cssClassesHelper__","__WEBPACK_IMPORTED_MODULE_3__common_APRadio_APRadio__","__WEBPACK_IMPORTED_MODULE_4__LoyaltyToken_css__","_createClass","defineProperties","length","descriptor","defineProperty","key","protoProps","staticProps","loyaltyTokenClasses","LoyaltyTokenComponent","_React$Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","loyaltyDisabled","loyaltyOMSEnabled","product","Amount","getLoyaltyLabel","ProductSymbol","LoyaltyDiscount","disabledText","context","t","enabledText","appendText","getOperatorLoyaltyFeeConfigs","_this2","_props","loyaltyOMSProducts","currentAccount","updateAccount","loyaltyProductId","LoyaltyEnabled","LoyaltyProductId","displayProducts","tempArray","slice","map","tempLast","pop","products","join","lastProduct","index","disabled","ProductId","checked","onChange","React","Component","array","contextTypes","func","1474","exports","content","options","hmr","transform","locals","1475","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","1476","d","loyaltyTokenSelector","currentAccountloyaltyTokenSelector","__WEBPACK_IMPORTED_MODULE_0_reselect__","__WEBPACK_IMPORTED_MODULE_1__helpers_numberFormatter__","createSelector","state","loyaltyFee","loyaltyFees","position","positions","p","forEach","token","IsEnabled","find","x","discount","decimals","Math","floor","toString","split","formatNumberToLocale","user","accounts","selectedAccountId","account","AccountId","991","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1_redux_form__","__WEBPACK_IMPORTED_MODULE_2__LoyaltyTokenComponent__","__WEBPACK_IMPORTED_MODULE_3__redux_actions_loyaltyFeeActions__","__WEBPACK_IMPORTED_MODULE_4__redux_actions_userActions__","__WEBPACK_IMPORTED_MODULE_5__redux_selectors_loyaltyTokenSelectors__","mapStateToProps","_loyaltyTokenSelector","mapDispatchToProps","LoyaltyTokenContainer","connect","reduxForm","form","onSubmit"],"mappings":"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","file":"static/js/38.74ff301e.chunk.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 1034:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export InnerRadioInput */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_form__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_cssClassesHelper__ = __webpack_require__(6);\nfunction _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}var baseClass='ap-radio';var InnerRadioInput=function InnerRadioInput(props){var input=props.input,customClass=props.customClass,meta=props.meta,inline=props.inline,label=props.label,info=props.info,id=props.id,passedProps=_objectWithoutProperties(props,['input','customClass','meta','inline','label','info','id']);var bemClasses=Object(__WEBPACK_IMPORTED_MODULE_3__helpers_cssClassesHelper__[\"b\" /* getBEMClasses */])([baseClass,customClass]);delete passedProps.meta;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:bemClasses(null,{inline:inline})},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',Object.assign({className:bemClasses('input'),type:'radio'},input,passedProps,{id:id})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',{className:bemClasses('label'),htmlFor:id},label,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:bemClasses('check')}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:bemClasses('checked')})),info&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('small',{className:'form-text-muted '+bemClasses('radio-info')},info),meta.dirty&&meta.error&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:bemClasses('radio-error')},meta.error));};var APRadio=function APRadio(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_redux_form__[\"a\" /* Field */],Object.assign({name:props.name,component:InnerRadioInput,type:'radio'},props));};APRadio.defaultProps={name:'',label:'',autoFocus:false,required:false,readOnly:false,inline:false,info:''};APRadio.propTypes={name:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,label:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,customClass:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,autoFocus:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,required:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,readOnly:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,inline:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,info:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,id:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired};/* harmony default export */ __webpack_exports__[\"a\"] = (APRadio);\n\n/***/ }),\n\n/***/ 1473:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_cssClassesHelper__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_APRadio_APRadio__ = __webpack_require__(1034);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__LoyaltyToken_css__ = __webpack_require__(1474);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__LoyaltyToken_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__LoyaltyToken_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var loyaltyTokenClasses=Object(__WEBPACK_IMPORTED_MODULE_2__helpers_cssClassesHelper__[\"b\" /* getBEMClasses */])('loyalty-token');var LoyaltyTokenComponent=function(_React$Component){_inherits(LoyaltyTokenComponent,_React$Component);function LoyaltyTokenComponent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,LoyaltyTokenComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=LoyaltyTokenComponent.__proto__||Object.getPrototypeOf(LoyaltyTokenComponent)).call.apply(_ref,[this].concat(args))),_this),_this.loyaltyDisabled=function(loyaltyOMSEnabled,product){return!loyaltyOMSEnabled||product.Amount<=0;},_this.getLoyaltyLabel=function(loyaltyDisabled,ProductSymbol,LoyaltyDiscount){var disabledText=_this.context.t('You must have a balance to use '+ProductSymbol+' to pay for fees');var enabledText=_this.context.t('Use {ProductSymbol} to pay for fees',{ProductSymbol:ProductSymbol});var appendText=_this.context.t('({LoyaltyDiscount}% discount )',{LoyaltyDiscount:LoyaltyDiscount});return(loyaltyDisabled?disabledText:enabledText)+(' '+appendText);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(LoyaltyTokenComponent,[{key:'componentWillMount',value:function componentWillMount(){this.props.getOperatorLoyaltyFeeConfigs();}},{key:'render',value:function render(){var _this2=this;var _props=this.props,loyaltyOMSEnabled=_props.loyaltyOMSEnabled,loyaltyOMSProducts=_props.loyaltyOMSProducts,currentAccount=_props.currentAccount,updateAccount=_props.updateAccount;var loyaltyProductId=currentAccount&&currentAccount.LoyaltyEnabled?currentAccount.LoyaltyProductId:0;// Handle multiple loyalty products\nvar displayProducts='';if(loyaltyOMSProducts.length>1){var tempArray=loyaltyOMSProducts.slice().map(function(i){return i.ProductSymbol;});var tempLast=tempArray.pop();displayProducts=this.context.t('{products} or {lastProduct}',{products:tempArray.join(', '),lastProduct:tempLast});}else if(loyaltyOMSProducts.length===1){displayProducts=loyaltyOMSProducts[0].ProductSymbol;}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:loyaltyTokenClasses()},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h1',{className:loyaltyTokenClasses('header')},this.context.t('Trading Fees')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:loyaltyTokenClasses('description')},displayProducts?this.context.t('Using {displayProducts} for transaction fees applies a discount to your trading fee. If you hold {displayProducts} in your account, you have the option of having your trading fees automatically subtracted from your {displayProducts} balance.',{displayProducts:displayProducts}):this.context.t('Loyalty token has not been set up on this exchange.')),loyaltyOMSEnabled&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'row loyalty'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'col-xs-12'},loyaltyOMSProducts.map(function(product,index){var disabled=_this2.loyaltyDisabled(loyaltyOMSEnabled,product);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__common_APRadio_APRadio__[\"a\" /* default */],{key:product.ProductId,id:'loyaltyToken'+product.ProductId,name:'loyaltyToken',value:index,label:_this2.getLoyaltyLabel(disabled,product.ProductSymbol,product.LoyaltyDiscount),checked:loyaltyProductId===product.ProductId,onChange:function onChange(){return updateAccount(product);},disabled:disabled});}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__common_APRadio_APRadio__[\"a\" /* default */],{id:'loyaltyToken',name:'loyaltyToken',value:-1,label:this.context.t('Use default fees'),checked:loyaltyProductId===0,onChange:function onChange(){return updateAccount();}}))));}}]);return LoyaltyTokenComponent;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"a\"] = (LoyaltyTokenComponent);LoyaltyTokenComponent.defaultProps={loyaltyOMSProducts:[],loyaltyOMSEnabled:false};LoyaltyTokenComponent.propTypes={loyaltyOMSEnabled:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,loyaltyOMSProducts:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array};LoyaltyTokenComponent.contextTypes={t:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired};\n\n/***/ }),\n\n/***/ 1474:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1475);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(971)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 1475:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(52)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".loyalty-token{padding:3rem;background:var(--settings__body-bg-color);height:var(--settings__body-height);width:100%}.loyalty-token__header{color:var(--component__color-primary);font-size:var(--advanced-settings__header-text-size);margin-bottom:var(--advanced-settings__header-text-margin-bottom);letter-spacing:var(--advanced-settings__header-text-letter-spacing)}.loyalty-token__description{max-width:30.6rem;line-height:1.5;letter-spacing:.5px;color:var(--font__color-secondary)}@media only screen and (max-width:48rem){.loyalty-token{height:unset;-ms-flex:1 1;flex:1 1}}\", \"\", {\"version\":3,\"sources\":[\"/Users/joshuarossi/Code/apex-web/src/components/LoyaltyToken/LoyaltyToken.css\"],\"names\":[],\"mappings\":\"AAAA,eACE,aAAc,AACd,0CAA2C,AAC3C,oCAAqC,AACrC,UAAY,CACb,AACD,uBACE,sCAAuC,AACvC,qDAAsD,AACtD,kEAAmE,AACnE,mEAAqE,CACtE,AAED,4BACE,kBAAmB,AACnB,gBAAiB,AACjB,oBAAsB,AACtB,kCAAoC,CACrC,AAKD,yCACE,eACE,aAAc,AACd,aAAc,AACV,QAAU,CACf,CACF\",\"file\":\"LoyaltyToken.css\",\"sourcesContent\":[\".loyalty-token {\\n  padding: 3rem;\\n  background: var(--settings__body-bg-color);\\n  height: var(--settings__body-height);\\n  width: 100%;\\n}\\n.loyalty-token__header {\\n  color: var(--component__color-primary);\\n  font-size: var(--advanced-settings__header-text-size);\\n  margin-bottom: var(--advanced-settings__header-text-margin-bottom);\\n  letter-spacing: var(--advanced-settings__header-text-letter-spacing);\\n}\\n\\n.loyalty-token__description {\\n  max-width: 30.6rem;\\n  line-height: 1.5;\\n  letter-spacing: 0.5px;\\n  color: var(--font__color-secondary);\\n}\\n\\n/* MEDIA QUERIES */\\n\\n/* Extra Small Devices, Phones */\\n@media only screen and (max-width: 48rem) {\\n  .loyalty-token {\\n    height: unset;\\n    -ms-flex: 1 1;\\n        flex: 1 1;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1476:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return loyaltyTokenSelector; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return currentAccountloyaltyTokenSelector; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_reselect__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_reselect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_reselect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_numberFormatter__ = __webpack_require__(31);\nvar loyaltyTokenSelector=Object(__WEBPACK_IMPORTED_MODULE_0_reselect__[\"createSelector\"])([function(state){return state.loyaltyFee.loyaltyFees;},function(state){return state.position.positions;}],function(loyaltyFees,positions){var loyaltyOMSProducts=[];var loyaltyOMSEnabled=true;positions=Object.keys(positions).map(function(p){return positions[p];});loyaltyFees.forEach(function(token){if(token.IsEnabled){var product=positions.find(function(x){return x.ProductId===token.LoyaltyProductId;});if(product){var discount=token.LoyaltyDiscount*100;var decimals=Math.floor(discount)!==discount?discount.toString().split('.')[1].length||0:0;product.LoyaltyDiscount=Object(__WEBPACK_IMPORTED_MODULE_1__helpers_numberFormatter__[\"b\" /* formatNumberToLocale */])(discount,decimals);loyaltyOMSProducts.push(product);}}});return{loyaltyOMSEnabled:loyaltyOMSEnabled,loyaltyOMSProducts:loyaltyOMSProducts};});var currentAccountloyaltyTokenSelector=Object(__WEBPACK_IMPORTED_MODULE_0_reselect__[\"createSelector\"])([function(state){return state.user.accounts;},function(state){return state.user.selectedAccountId;}],function(accounts,selectedAccountId){return accounts.find(function(account){return selectedAccountId===account.AccountId;});});\n\n/***/ }),\n\n/***/ 991:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_redux_form__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LoyaltyTokenComponent__ = __webpack_require__(1473);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__redux_actions_loyaltyFeeActions__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__redux_actions_userActions__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__redux_selectors_loyaltyTokenSelectors__ = __webpack_require__(1476);\nvar mapStateToProps=function mapStateToProps(state){var _loyaltyTokenSelector=Object(__WEBPACK_IMPORTED_MODULE_5__redux_selectors_loyaltyTokenSelectors__[\"b\" /* loyaltyTokenSelector */])(state),loyaltyOMSEnabled=_loyaltyTokenSelector.loyaltyOMSEnabled,loyaltyOMSProducts=_loyaltyTokenSelector.loyaltyOMSProducts;var currentAccount=Object(__WEBPACK_IMPORTED_MODULE_5__redux_selectors_loyaltyTokenSelectors__[\"a\" /* currentAccountloyaltyTokenSelector */])(state);return{loyaltyOMSEnabled:loyaltyOMSEnabled,loyaltyOMSProducts:loyaltyOMSProducts,currentAccount:currentAccount};};var mapDispatchToProps={getOperatorLoyaltyFeeConfigs:__WEBPACK_IMPORTED_MODULE_3__redux_actions_loyaltyFeeActions__[\"d\" /* getOperatorLoyaltyFeeConfigs */],updateAccount:__WEBPACK_IMPORTED_MODULE_4__redux_actions_userActions__[\"s\" /* updateAccount */]};var LoyaltyTokenContainer=Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps,mapDispatchToProps)(__WEBPACK_IMPORTED_MODULE_2__LoyaltyTokenComponent__[\"a\" /* default */]);/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_redux_form__[\"j\" /* reduxForm */])({form:'loyaltyTokenForm',onSubmit:function onSubmit(){}})(LoyaltyTokenContainer));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/38.74ff301e.chunk.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'redux-form';\n\nimport { getBEMClasses } from '../../../helpers/cssClassesHelper';\n\nconst baseClass = 'ap-radio';\n\nexport const InnerRadioInput = props => {\n  const {\n    input,\n    customClass,\n    meta,\n    inline,\n    label,\n    info,\n    id,\n    ...passedProps\n  } = props;\n\n  const bemClasses = getBEMClasses([baseClass, customClass]);\n\n  delete passedProps.meta;\n\n  return (\n    <div className={bemClasses(null, { inline })}>\n      <input\n        className={bemClasses('input')}\n        type=\"radio\"\n        {...input}\n        {...passedProps}\n        id={id}\n      />\n      <label className={bemClasses('label')} htmlFor={id}>\n        {label}\n        <span className={bemClasses('check')} />\n        <span className={bemClasses('checked')} />\n      </label>\n\n      {info && (\n        <small className={`form-text-muted ${bemClasses('radio-info')}`}>\n          {info}\n        </small>\n      )}\n\n      {meta.dirty &&\n        meta.error && (\n          <span className={bemClasses('radio-error')}>{meta.error}</span>\n        )}\n    </div>\n  );\n};\n\nconst APRadio = props => {\n  return (\n    <Field\n      name={props.name}\n      component={InnerRadioInput}\n      type=\"radio\"\n      {...props}\n    />\n  );\n};\n\nAPRadio.defaultProps = {\n  name: '',\n  label: '',\n  autoFocus: false,\n  required: false,\n  readOnly: false,\n  inline: false,\n  info: ''\n};\n\nAPRadio.propTypes = {\n  name: PropTypes.string,\n  label: PropTypes.string,\n  customClass: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  required: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  inline: PropTypes.bool,\n  info: PropTypes.string,\n  id: PropTypes.string.isRequired\n};\n\nexport default APRadio;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/APRadio/APRadio.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getBEMClasses } from '../../helpers/cssClassesHelper';\nimport APRadio from '../common/APRadio/APRadio';\nimport './LoyaltyToken.css';\n\nconst loyaltyTokenClasses = getBEMClasses('loyalty-token');\n\nexport default class LoyaltyTokenComponent extends React.Component {\n  componentWillMount() {\n    this.props.getOperatorLoyaltyFeeConfigs();\n  }\n\n  loyaltyDisabled = (loyaltyOMSEnabled, product) => {\n    return !loyaltyOMSEnabled || product.Amount <= 0;\n  };\n\n  getLoyaltyLabel = (loyaltyDisabled, ProductSymbol, LoyaltyDiscount) => {\n    const disabledText = this.context.t(\n      `You must have a balance to use ${ProductSymbol} to pay for fees`\n    );\n    const enabledText = this.context.t('Use {ProductSymbol} to pay for fees', {\n      ProductSymbol\n    });\n    const appendText = this.context.t('({LoyaltyDiscount}% discount )', {\n      LoyaltyDiscount\n    });\n\n    return (loyaltyDisabled ? disabledText : enabledText) + ` ${appendText}`;\n  };\n\n  render() {\n    const {\n      loyaltyOMSEnabled,\n      loyaltyOMSProducts,\n      currentAccount,\n      updateAccount\n    } = this.props;\n    const loyaltyProductId =\n      currentAccount && currentAccount.LoyaltyEnabled\n        ? currentAccount.LoyaltyProductId\n        : 0;\n\n    // Handle multiple loyalty products\n    let displayProducts = '';\n    if (loyaltyOMSProducts.length > 1) {\n      const tempArray = loyaltyOMSProducts.slice().map(i => i.ProductSymbol);\n      const tempLast = tempArray.pop();\n      displayProducts = this.context.t('{products} or {lastProduct}', {\n        products: tempArray.join(', '),\n        lastProduct: tempLast\n      });\n    } else if (loyaltyOMSProducts.length === 1) {\n      displayProducts = loyaltyOMSProducts[0].ProductSymbol;\n    }\n\n    return (\n      <div className={loyaltyTokenClasses()}>\n        <h1 className={loyaltyTokenClasses('header')}>\n          {this.context.t('Trading Fees')}\n        </h1>\n        <p className={loyaltyTokenClasses('description')}>\n          {displayProducts\n            ? this.context.t(\n                'Using {displayProducts} for transaction fees applies a discount to your trading fee. If you hold {displayProducts} in your account, you have the option of having your trading fees automatically subtracted from your {displayProducts} balance.',\n                { displayProducts }\n              )\n            : this.context.t(\n                'Loyalty token has not been set up on this exchange.'\n              )}\n        </p>\n\n        {loyaltyOMSEnabled && (\n          <div className=\"row loyalty\">\n            <div className=\"col-xs-12\">\n              {loyaltyOMSProducts.map((product, index) => {\n                const disabled = this.loyaltyDisabled(\n                  loyaltyOMSEnabled,\n                  product\n                );\n                return (\n                  <APRadio\n                    key={product.ProductId}\n                    id={`loyaltyToken${product.ProductId}`}\n                    name=\"loyaltyToken\"\n                    value={index}\n                    label={this.getLoyaltyLabel(\n                      disabled,\n                      product.ProductSymbol,\n                      product.LoyaltyDiscount\n                    )}\n                    checked={loyaltyProductId === product.ProductId}\n                    onChange={() => updateAccount(product)}\n                    disabled={disabled}\n                  />\n                );\n              })}\n              <APRadio\n                id=\"loyaltyToken\"\n                name=\"loyaltyToken\"\n                value={-1}\n                label={this.context.t('Use default fees')}\n                checked={loyaltyProductId === 0}\n                onChange={() => updateAccount()}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nLoyaltyTokenComponent.defaultProps = {\n  loyaltyOMSProducts: [],\n  loyaltyOMSEnabled: false\n};\n\nLoyaltyTokenComponent.propTypes = {\n  loyaltyOMSEnabled: PropTypes.bool,\n  loyaltyOMSProducts: PropTypes.array\n};\n\nLoyaltyTokenComponent.contextTypes = {\n  t: PropTypes.func.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/LoyaltyToken/LoyaltyTokenComponent.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./LoyaltyToken.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoyaltyToken/LoyaltyToken.css\n// module id = 1474\n// module chunks = 38","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".loyalty-token{padding:3rem;background:var(--settings__body-bg-color);height:var(--settings__body-height);width:100%}.loyalty-token__header{color:var(--component__color-primary);font-size:var(--advanced-settings__header-text-size);margin-bottom:var(--advanced-settings__header-text-margin-bottom);letter-spacing:var(--advanced-settings__header-text-letter-spacing)}.loyalty-token__description{max-width:30.6rem;line-height:1.5;letter-spacing:.5px;color:var(--font__color-secondary)}@media only screen and (max-width:48rem){.loyalty-token{height:unset;-ms-flex:1 1;flex:1 1}}\", \"\", {\"version\":3,\"sources\":[\"/Users/joshuarossi/Code/apex-web/src/components/LoyaltyToken/LoyaltyToken.css\"],\"names\":[],\"mappings\":\"AAAA,eACE,aAAc,AACd,0CAA2C,AAC3C,oCAAqC,AACrC,UAAY,CACb,AACD,uBACE,sCAAuC,AACvC,qDAAsD,AACtD,kEAAmE,AACnE,mEAAqE,CACtE,AAED,4BACE,kBAAmB,AACnB,gBAAiB,AACjB,oBAAsB,AACtB,kCAAoC,CACrC,AAKD,yCACE,eACE,aAAc,AACd,aAAc,AACV,QAAU,CACf,CACF\",\"file\":\"LoyaltyToken.css\",\"sourcesContent\":[\".loyalty-token {\\n  padding: 3rem;\\n  background: var(--settings__body-bg-color);\\n  height: var(--settings__body-height);\\n  width: 100%;\\n}\\n.loyalty-token__header {\\n  color: var(--component__color-primary);\\n  font-size: var(--advanced-settings__header-text-size);\\n  margin-bottom: var(--advanced-settings__header-text-margin-bottom);\\n  letter-spacing: var(--advanced-settings__header-text-letter-spacing);\\n}\\n\\n.loyalty-token__description {\\n  max-width: 30.6rem;\\n  line-height: 1.5;\\n  letter-spacing: 0.5px;\\n  color: var(--font__color-secondary);\\n}\\n\\n/* MEDIA QUERIES */\\n\\n/* Extra Small Devices, Phones */\\n@media only screen and (max-width: 48rem) {\\n  .loyalty-token {\\n    height: unset;\\n    -ms-flex: 1 1;\\n        flex: 1 1;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/LoyaltyToken/LoyaltyToken.css\n// module id = 1475\n// module chunks = 38","import { createSelector } from 'reselect';\nimport { formatNumberToLocale } from '../../helpers/numberFormatter';\n\nexport const loyaltyTokenSelector = createSelector(\n  [state => state.loyaltyFee.loyaltyFees, state => state.position.positions],\n  (loyaltyFees, positions) => {\n    const loyaltyOMSProducts = [];\n    const loyaltyOMSEnabled = true;\n\n    positions = Object.keys(positions).map(p => positions[p]);\n\n    loyaltyFees.forEach(token => {\n      if (token.IsEnabled) {\n        const product = positions.find(x => {\n          return x.ProductId === token.LoyaltyProductId;\n        });\n\n        if (product) {\n          const discount = token.LoyaltyDiscount * 100;\n\n          const decimals =\n            Math.floor(discount) !== discount\n              ? discount.toString().split('.')[1].length || 0\n              : 0;\n\n          product.LoyaltyDiscount = formatNumberToLocale(discount, decimals);\n          loyaltyOMSProducts.push(product);\n        }\n      }\n    });\n\n    return { loyaltyOMSEnabled, loyaltyOMSProducts };\n  }\n);\n\nexport const currentAccountloyaltyTokenSelector = createSelector(\n  [state => state.user.accounts, state => state.user.selectedAccountId],\n  (accounts, selectedAccountId) =>\n    accounts.find(account => selectedAccountId === account.AccountId)\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/redux/selectors/loyaltyTokenSelectors.js","import { connect } from 'react-redux';\nimport { reduxForm } from 'redux-form';\n\nimport LoyaltyTokenComponent from './LoyaltyTokenComponent';\nimport { getOperatorLoyaltyFeeConfigs } from '../../redux/actions/loyaltyFeeActions';\nimport { updateAccount } from '../../redux/actions/userActions';\nimport {\n  loyaltyTokenSelector,\n  currentAccountloyaltyTokenSelector\n} from '../../redux/selectors/loyaltyTokenSelectors';\n\nconst mapStateToProps = state => {\n  const { loyaltyOMSEnabled, loyaltyOMSProducts } = loyaltyTokenSelector(state);\n  const currentAccount = currentAccountloyaltyTokenSelector(state);\n  return { loyaltyOMSEnabled, loyaltyOMSProducts, currentAccount };\n};\n\nconst mapDispatchToProps = {\n  getOperatorLoyaltyFeeConfigs,\n  updateAccount\n};\n\nconst LoyaltyTokenContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoyaltyTokenComponent);\n\nexport default reduxForm({\n  form: 'loyaltyTokenForm',\n  onSubmit: () => {}\n})(LoyaltyTokenContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/LoyaltyToken/LoyaltyTokenContainer.js"],"sourceRoot":""}